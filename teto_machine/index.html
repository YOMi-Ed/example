<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>🎃 할로윈 테마 - 토핑 개수 뽑기</title>
  <style>
    :root {
      --bg-1: #1b112b;     /* 딥 퍼플 */
      --bg-2: #2a1846;     /* 보라 계열 그라데이션 */
      --card: #26163d;     /* 카드 배경 (짙은 보라) */
      --text: #f3e7ff;     /* 연보라 텍스트 */
      --accent: #ff8c42;   /* 호박 주황 */
      --accent-2: #f7d14d; /* 달빛 노랑 */
      --muted: #b9a7d9;    /* 보조 텍스트 */
      --radius: 18px;
      --glow: 0 0 18px rgba(255, 140, 66, .45), 0 0 36px rgba(255, 140, 66, .25);
      --shadow: 0 12px 36px rgba(0,0,0,.4);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin:0;
      font-family: "Pretendard", system-ui, -apple-system, Segoe UI, Roboto, 'Noto Sans KR', sans-serif;
      color: var(--text);
      background:
        radial-gradient(60vw 60vh at 80% 20%, rgba(247, 209, 77, .08), transparent 60%),
        linear-gradient(180deg, var(--bg-1), var(--bg-2));
      display:flex; align-items:center; justify-content:center;
      min-height:100vh;
      overflow-x:hidden;
    }

    /* 소품: 박쥐 */
    .bats {
      position: fixed; inset: 0; pointer-events: none; opacity: .6;
    }
    .bats svg { position:absolute; width: 56px; height: 28px; fill: #4b2b75; }
    .b1 { top: 12%; left: 8%; transform: scale(1.1) rotate(-6deg); }
    .b2 { top: 18%; right: 12%; transform: scale(1) rotate(7deg); }
    .b3 { bottom: 16%; left: 14%; transform: scale(0.9) rotate(4deg); }
    .b4 { bottom: 22%; right: 10%; transform: scale(1.2) rotate(-8deg); }

    /* 소품: 거미줄 */
    .web {
      position: fixed; right: 0; top: 0; width: 200px; height: 200px; opacity: .18; pointer-events:none;
    }

    .card {
      width: min(94vw, 600px);
      background: linear-gradient(180deg, rgba(38,22,61,.96), rgba(31,18,49,.96));
      border: 1px solid rgba(255,255,255,.08);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 30px 28px 28px;
      position: relative;
      overflow: hidden;
    }

    /* 상단 바 - 호박 주황 스트라이프 */
    .card::before {
      content: "";
      position: absolute; inset: 0 0 auto 0; height: 12px;
      background-image: repeating-linear-gradient(
        45deg, rgba(255, 140, 66, .95) 0 18px, rgba(255, 204, 120, .95) 18px 36px
      );
      box-shadow: var(--glow);
    }

    /* 달/호박 아이콘 */
    .pumpkin {
      position: absolute; right: 14px; top: 18px; width: 40px; height: 40px;
      filter: drop-shadow(0 4px 10px rgba(255,140,66,.35));
    }
    .pumpkin svg { width: 100%; height: 100%; display:block; }

    .pre-title {
      margin-top: 16px;
      font-size: 19px;
      font-weight: 800;
      line-height: 1.54;
      text-align: center;
      color: var(--accent-2);
      text-shadow: 0 0 12px rgba(247,209,77,.35);
    }
    .blankline { height: 1.2em; }

    h1 {
      font-size: 26px;
      margin: 0 0 8px;
      text-align:center;
      letter-spacing:.4px;
      color: #ffde9f;
      text-shadow: 0 0 10px rgba(255, 222, 159, .35);
    }

    .sub {
      font-size: 18px;
      margin: 0 0 16px;
      text-align:center;
      color: var(--muted);
    }

    .display-wrapper {
      display:flex; align-items:center; justify-content:center;
      margin: 12px 0 16px;
    }

    /* 호박빛 네온 링 */
    .display {
      font-size: 84px;
      font-weight: 900;
      width: 230px;
      height: 230px;
      border-radius: 999px;
      display:flex; align-items:center; justify-content:center;
      background: radial-gradient(circle at 35% 30%, #3a234f 0%, #2e183f 60%, #27123a 100%);
      border: 6px solid rgba(255, 140, 66, .35);
      box-shadow: inset 0 18px 40px rgba(255,255,255,.05), 0 0 30px rgba(255, 140, 66, .25), var(--glow);
      color: #ffd8b7;
      letter-spacing: 1px;
      user-select:none;
      text-shadow: 0 2px 0 rgba(0,0,0,.35), 0 10px 26px rgba(255,140,66,.25);
    }

    .range {
      font-size: 17px;
      text-align:center;
      margin: 10px 0 18px;
      line-height: 1.9;
      background: rgba(255, 140, 66, .08);
      border: 1px solid rgba(255, 140, 66, .25);
      border-radius: 12px;
      padding: 12px 16px;
      word-break: keep-all;
      color: #ffe8cf;
    }

    .row { display:flex; gap:12px; }
    button {
      flex:1;
      font-size: 20px;
      padding: 14px 18px;
      border-radius: 12px;
      border: 0;
      cursor: pointer;
      transition: transform .06s ease, box-shadow .12s ease, filter .12s ease;
    }
    button:active { transform: translateY(1px); }
    button:disabled { opacity: .6; cursor: not-allowed; }

    .primary {
      background: linear-gradient(180deg, #ffad6f, #ff7f2a);
      color:#2b0f00;
      box-shadow: 0 8px 22px rgba(255, 127, 42, .35);
      text-shadow: 0 1px 0 rgba(255,255,255,.45);
      filter: drop-shadow(0 0 12px rgba(255,127,42,.3));
    }
    .ghost {
      background: linear-gradient(180deg, #3a244f, #2a183f);
      color:#ffe9d2;
      box-shadow: 0 8px 16px rgba(0,0,0,.25);
      border: 1px solid rgba(255,255,255,.08);
    }

    .pop { animation: pop .18s ease-out; }
    @keyframes pop { from { transform: scale(0.94); } to { transform: scale(1); } }
  </style>
</head>
<body>
  <!-- 장식 요소들 -->
  <div class="bats" aria-hidden="true">
    <svg class="b1" viewBox="0 0 64 32"><path d="M0,16 C8,8 16,8 24,16 C32,8 40,8 48,16 C56,8 64,8 64,16 C56,24 48,24 40,16 C32,24 24,24 16,16 C8,24 0,24 0,16Z"/></svg>
    <svg class="b2" viewBox="0 0 64 32"><path d="M0,16 C8,8 16,8 24,16 C32,8 40,8 48,16 C56,8 64,8 64,16 C56,24 48,24 40,16 C32,24 24,24 16,16 C8,24 0,24 0,16Z"/></svg>
    <svg class="b3" viewBox="0 0 64 32"><path d="M0,16 C8,8 16,8 24,16 C32,8 40,8 48,16 C56,8 64,8 64,16 C56,24 48,24 40,16 C32,24 24,24 16,16 C8,24 0,24 0,16Z"/></svg>
    <svg class="b4" viewBox="0 0 64 32"><path d="M0,16 C8,8 16,8 24,16 C32,8 40,8 48,16 C56,8 64,8 64,16 C56,24 48,24 40,16 C32,24 24,24 16,16 C8,24 0,24 0,16Z"/></svg>
  </div>
  <svg class="web" viewBox="0 0 100 100" aria-hidden="true">
    <path d="M0,0 L100,0 L100,100" stroke="#ffffff" stroke-opacity=".25" stroke-width="0.6" fill="none"/>
    <path d="M0,0 Q50,20 100,0" stroke="#ffffff" stroke-opacity=".2" stroke-width="0.6" fill="none"/>
    <path d="M0,0 Q80,40 100,0" stroke="#ffffff" stroke-opacity=".15" stroke-width="0.6" fill="none"/>
    <path d="M100,0 Q80,50 100,100" stroke="#ffffff" stroke-opacity=".2" stroke-width="0.6" fill="none"/>
    <path d="M100,0 Q90,70 100,100" stroke="#ffffff" stroke-opacity=".15" stroke-width="0.6" fill="none"/>
  </svg>

  <div class="card">
    <div class="pumpkin" aria-hidden="true">
      <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="pump" x1="0" x2="0" y1="0" y2="1">
            <stop offset="0%" stop-color="#ffb173"/>
            <stop offset="100%" stop-color="#ff7f2a"/>
          </linearGradient>
        </defs>
        <ellipse cx="32" cy="34" rx="20" ry="16" fill="url(#pump)"/>
        <ellipse cx="22" cy="34" rx="12" ry="14" fill="#ff9b53"/>
        <ellipse cx="42" cy="34" rx="12" ry="14" fill="#ff9b53"/>
        <rect x="30" y="18" width="4" height="8" rx="2" fill="#3f7a3f"/>
        <path d="M24 34 Q32 40 40 34" stroke="#7a3b1c" stroke-width="2" fill="none"/>
      </svg>
    </div>

    <p class="pre-title">당신은 AI가 제시한 제한시간 내에<br>아이스크림을 만들어낸 테토!</p>
    <div class="blankline"></div>

    <h1>토핑 개수 뽑기</h1>
    <p class="sub">파워풀한 당신에게 주어질 토핑 개수는?</p>

    <div class="display-wrapper">
      <div class="display" id="result">–</div>
    </div>

    <div class="range" id="rangeText"></div>

    <div class="row">
      <button class="primary" id="btnRoll">뽑기</button>
      <button class="ghost" id="btnReset">초기화</button>
    </div>
  </div>

  <script>
    // ====== 설정 ======
    const SPIN_MIN = 0;
    const SPIN_MAX = 10; // 스피너: 0~10
    const FINAL_MIN = 0;
    const FINAL_MAX = 4; // 최종: 0~4
    const SPIN_INTERVAL_MS = 60;
    // ====================

    const $result = document.getElementById('result');
    const $rangeText = document.getElementById('rangeText');
    const $btnRoll = document.getElementById('btnRoll');
    const $btnReset = document.getElementById('btnReset');

    $rangeText.textContent = '아래 뽑기 버튼을 눌러 나온 수 만큼 토핑을 얻어가세요!';

    function randomInt(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; }

    let spinTimer = null;
    function startSpin() {
      stopSpin();
      spinTimer = setInterval(() => { $result.textContent = randomInt(SPIN_MIN, SPIN_MAX); }, SPIN_INTERVAL_MS);
    }
    function stopSpin() { if (spinTimer) { clearInterval(spinTimer); spinTimer = null; } }
    startSpin();

    let locked = false;
    function lock(ms = 450) {
      locked = true; $btnRoll.disabled = true;
      setTimeout(() => { locked = false; $btnRoll.disabled = false; }, ms);
    }

    $btnRoll.addEventListener('click', () => {
      if (locked) return;
      stopSpin();
      const n = randomInt(FINAL_MIN, FINAL_MAX);
      $result.textContent = n;
      $result.classList.remove('pop'); void $result.offsetWidth; $result.classList.add('pop');
      lock();
    });

    $btnReset.addEventListener('click', () => { if (locked) return; startSpin(); lock(200); });
  </script>
</body>
</html>
